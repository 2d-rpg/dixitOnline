{"ast":null,"code":"// init\nconst utils = require('../../utils');\n\nclass Init {\n  constructor() {}\n\n  static do(config, io, socket, game) {\n    io.sockets.emit('update_number_of_player', {\n      num: game.getLength()\n    });\n\n    if (game.getLength() < 3) {\n      // プレイヤー人数が3人未満のとき\n      utils.logWithStage('init', 'socket id: [' + socket.id + '] was added');\n    } else {\n      // 3人より多い場合\n      io.to(socket.id).emit('cannot_play');\n      utils.logWithStage('cannot_play', 'socket ID: [' + socket.id + '] cannot play game.');\n    }\n  }\n\n}\n\nmodule.exports = Init;","map":{"version":3,"sources":["/Users/shibainu/Documents/projects/Javascript/dixitOnline/src/modules/stage/server/init.js"],"names":["utils","require","Init","constructor","do","config","io","socket","game","sockets","emit","num","getLength","logWithStage","id","to","module","exports"],"mappings":"AAAA;AAEA,MAAMA,KAAK,GAAGC,OAAO,CAAC,aAAD,CAArB;;AAEA,MAAMC,IAAN,CAAW;AAEPC,EAAAA,WAAW,GAAG,CAAE;;AAEhB,SAAOC,EAAP,CAAUC,MAAV,EAAkBC,EAAlB,EAAsBC,MAAtB,EAA8BC,IAA9B,EAAoC;AAChCF,IAAAA,EAAE,CAACG,OAAH,CAAWC,IAAX,CAAgB,yBAAhB,EAA2C;AAACC,MAAAA,GAAG,EAAGH,IAAI,CAACI,SAAL;AAAP,KAA3C;;AACA,QAAIJ,IAAI,CAACI,SAAL,KAAmB,CAAvB,EAA0B;AAAE;AACxBZ,MAAAA,KAAK,CAACa,YAAN,CAAmB,MAAnB,EAA2B,iBAAiBN,MAAM,CAACO,EAAxB,GAA6B,aAAxD;AACH,KAFD,MAEO;AAAE;AACLR,MAAAA,EAAE,CAACS,EAAH,CAAMR,MAAM,CAACO,EAAb,EAAiBJ,IAAjB,CAAsB,aAAtB;AACAV,MAAAA,KAAK,CAACa,YAAN,CAAmB,aAAnB,EAAkC,iBAAiBN,MAAM,CAACO,EAAxB,GAA6B,qBAA/D;AACH;AACJ;;AAZM;;AAeXE,MAAM,CAACC,OAAP,GAAiBf,IAAjB","sourcesContent":["// init\n\nconst utils = require('../../utils');\n\nclass Init {\n\n    constructor() {}\n\n    static do(config, io, socket, game) {\n        io.sockets.emit('update_number_of_player', {num : game.getLength()});\n        if (game.getLength() < 3) { // プレイヤー人数が3人未満のとき\n            utils.logWithStage('init', 'socket id: [' + socket.id + '] was added');\n        } else { // 3人より多い場合\n            io.to(socket.id).emit('cannot_play');\n            utils.logWithStage('cannot_play', 'socket ID: [' + socket.id + '] cannot play game.');\n        }\n    }\n}\n\nmodule.exports = Init;"]},"metadata":{},"sourceType":"module"}